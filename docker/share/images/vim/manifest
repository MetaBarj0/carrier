REQUIRES="metabarj0/ncurses
metabarj0/wget
metabarj0/python2
metabarj0/diffutils
metabarj0/lua"

PROVIDES=metabarj0/vim

SOURCES_FETCH_IMAGE=metabarj0/wget
SOURCES_FETCH_COMMAND=\
'wget --no-check-certificate '\
'https://github.com/vim/vim/archive/master.tar.gz'
SOURCES_TARBALL_NAME='master.tar.gz'

# TODO : test this entrypoint
BUILD_EXTRA_DOCKERFILE_COMMAND=\
'COPY vim-entrypoint.sh /usr/local/bin/'

BASE_IMAGE=busybox

FINAL_EXTRA_DOCKERFILE_COMMANDS="$(cat << EOI
ENV TERMINFO /usr/local/share/terminfo
VOLUME [ "/home/vim/.vim" ]
ENTRYPOINT [ "vim-entrypoint.sh" ]
EOI
)"
